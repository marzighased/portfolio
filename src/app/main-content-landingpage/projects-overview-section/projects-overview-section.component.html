<div class="parent-container">
    <section id="projects" class="projects-section">
        
        <div class="title-container">
            <h2>{{ 'PROJECTS.TITLE' | translate }}</h2>
            <h3>{{ 'PROJECTS.SUBTITLE' | translate }}</h3>
            <p>{{ 'PROJECTS.DESCRIPTION' | translate }}</p>  
        </div>

        
        <div class="projects-list">
            @for (project of projects; track project.id) {
                <div class="project-item" (click)="openProjectModal(project)">  
                    <div class="content">
                        <div class="project-title">
                            {{ project.titleKey | translate }}
                            <img src="./../../../assets/icons/arrow_outward.png" alt="arrow" class="arrow-icon">
                        </div>
                        <div class="technologies">
                            @for (tech of project.technologies; track tech) {
                                <span>{{ tech }}</span>
                            }
                        </div>
                    </div>
                    <div class="project-image-wrapper">
                        <div class="project-image">
                            <img [src]="project.thumbnail" [alt]="project.titleKey | translate">
                        </div>
                        <div class="decorative-lines"></div>
                    </div>
                </div>
            }
        </div>

        
        @if (isModalOpen && selectedProject) {
            <div class="modal-overlay" (click)="closeModal()">
                <div class="modal-content" (click)="$event.stopPropagation()">
                    <button class="close-btn" (click)="closeModal()">
                        <img src="./../../../assets/icons/close_small.png" alt="Close" class="icon-white">
                        <img src="./../../../assets/icons/close.png" alt="Close" class="icon-green">
                    </button>

                    <div class="project-details">
                        <div class="left-content">
                            <div class="project-number">0{{ selectedProject.id }}</div>
                            <h2>{{ selectedProject.titleKey | translate }}</h2>
                            
                            <div class="project-description">
                                <h3>{{ 'PROJECTS.ABOUT' | translate }}</h3>
                                <p>{{ selectedProject.descriptionKey | translate }}</p>
                            </div>

                            <div class="tech-stack">
                                @for (tech of selectedProject.technologies; track tech) {
                                    <img src="./../../../assets/green icons/Property 1={{ tech }}.svg" [alt]="tech">
                                }
                            </div>

                            <div class="action-buttons">
                                <a [href]="selectedProject.githubLink" target="_blank" class="btn">
                                    GitHub
                                    <img src="./../../../assets/icons/arrow_outward.svg" alt="arrow">
                                </a>
                                <a [href]="selectedProject.liveLink" target="_blank" class="btn">
                                    {{ 'PROJECTS.LIVE' | translate }}
                                    <img src="./../../../assets/icons/arrow_outward.svg" alt="arrow">
                                </a>
                            </div>
                        </div>

                        <div class="right-content">
                            <img [src]="selectedProject.modalImage" [alt]="selectedProject.titleKey | translate" class="project-image">
                        </div>

                        <button class="next-project" (click)="nextProject()">
                            {{ 'PROJECTS.NEXT' | translate }}
                            <img src="./../../../assets/icons/arrow_forward.png" alt="arrow">
                        </button>
                    </div>
                </div>
            </div>
        }
    </section>
</div>    